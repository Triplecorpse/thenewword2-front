<div class="general-wrapper">
  <mat-card class="wrapper">
    <h2 style="margin-right: 8px;">{{'REGISTRATION.FORM_HEADER' | translate}}</h2>
    <form [formGroup]="formGroup" (ngSubmit)="submit()">
      <div style="display:flex;">
        <div>
          <div style="margin-bottom: 26px;">
            <mat-form-field>
              <input matInput [formControl]="login" [placeholder]="'REGISTRATION.FIELDS.LOGIN.PLACEHOLDER' | translate">
              <mat-icon matSuffix matTooltip="At least 6 latin letters and numbers long. Cannot be changed after you set it">
                info_outlined
              </mat-icon>
              <mat-error *ngIf="login.hasError('minlength')">
                Login should be at least 6 letters long
              </mat-error>
              <mat-error *ngIf="login.hasError('pattern')">
                Login should contain alphanumeric characters only
              </mat-error>
            </mat-form-field>
          </div>

          <div style="margin-bottom: 16px;">
            <mat-form-field>
              <input matInput type="password" [formControl]="password" [placeholder]="'REGISTRATION.FIELDS.PASSWORD.PLACEHOLDER' | translate">
              <mat-error *ngIf="password.hasError('minlength')">
                Password should be at least 6 letters long
              </mat-error>
            </mat-form-field>
          </div>

          <div style="margin-bottom: 16px;">
            <mat-form-field>
              <input matInput type="password" [formControl]="passwordRepeat" [placeholder]="'REGISTRATION.FIELDS.PASSWORD_REPEAT.PLACEHOLDER' | translate">
              <mat-error *ngIf="passwordRepeat.hasError('notequal')">
                Password repeat should be the same as password
              </mat-error>
            </mat-form-field>
          </div>
        </div>
        <div style="margin-left: 8px;">
          <div style="margin-bottom: 26px;">
            <mat-form-field>
              <input matInput [formControl]="email" [placeholder]="'REGISTRATION.FIELDS.EMAIL.PLACEHOLDER' | translate">
              <mat-icon matSuffix matTooltip="We will use it just for password recovery">
                info_outlined
              </mat-icon>
              <mat-error *ngIf="email.hasError('email')">
                This is not a valid email
              </mat-error>
            </mat-form-field>
          </div>
          <div style="margin-bottom: 16px;">
            <mat-form-field>
              <mat-select [formControl]="nativeLanguage" [placeholder]="'REGISTRATION.FIELDS.NATIVE_LANGUAGE.PLACEHOLDER' | translate">
                <mat-optgroup label="Recommended languages">
                  <mat-option *ngFor="let lang of recommendedLanguages" [value]="lang.id">{{lang.nativeName}}</mat-option>
                </mat-optgroup>
                <mat-option *ngFor="let lang of languages" [value]="lang.id">{{lang.nativeName}}</mat-option>
              </mat-select>
              <mat-icon matSuffix matTooltip="After it is set, it cannot be changed">
                info_outlined
              </mat-icon>
              <mat-error *ngIf="nativeLanguage.hasError('required')">
                Native Language is a required field
              </mat-error>
            </mat-form-field>
          </div>
          <div style="margin-bottom: 16px;">
            <mat-form-field>
              <mat-select [formControl]="learningLanguages" [placeholder]="'REGISTRATION.FIELDS.LEARNING_LANGUAGES.PLACEHOLDER' | translate"
                          multiple
                          [matTooltip]="getLanguagesValue(learningLanguages.value).join(', ')">
                <mat-option *ngFor="let lang of languages" [value]="lang.id">{{lang.nativeName}}</mat-option>
              </mat-select>
              <mat-icon matSuffix matTooltip="It is needed just for you convenience">
                info_outlined
              </mat-icon>
            </mat-form-field>
          </div>
        </div>
      </div>
      <div style="display:flex; justify-content: space-between">
        <button mat-raised-button color="primary" type="submit">{{'REGISTRATION.REGISTER' | translate}}</button>
        <div>
          <label>{{'REGISTRATION.ALREADY_REGISTERED' | translate}}</label>
          <button mat-button color="primary" routerLink="/login">{{'REGISTRATION.GOTO_LOGIN' | translate}}</button>
        </div>
      </div>
    </form>
  </mat-card>
</div>
